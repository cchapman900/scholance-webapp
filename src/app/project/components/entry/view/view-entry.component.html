<h3 class="mb-4" *ngIf="entry">
  {{ entry?.student._id == userService.authenticatedUser._id ? 'My Project Submission' : 'Project Submission for: '+entry?.student.name }}
</h3>

<div class="row" *ngIf="entry?.commentary">
  <div class="col-10 mx-auto">
    <h4>Commentary about this submission</h4>
    <p>{{entry.commentary}}</p>
  </div>
</div>

<div class="row">
  <div class="col-md-10 mx-auto">
    <h4>Attached Deliverables for this Project Entry</h4>
    <p *ngIf="entry?.assets.length === 0">There are currently no assets for this Project Submission</p>
    <app-view-asset *ngFor="let asset of entry?.assets"
                    [project_id]="project_id" [asset]="asset" [assetType]="'entryAsset'"></app-view-asset>
    <br/>
  </div>
</div>

<hr/>

<div *ngIf="entry">
  <app-liaison-entry-work-area [project]="project" *ngIf="userService.authenticatedUser?._id === project?.liaison._id"></app-liaison-entry-work-area>
  <app-student-entry-work-area [project]="project" [entry]="entry" *ngIf="userService.authenticatedUser?._id === entry?.student._id"></app-student-entry-work-area>
</div>


<hr class="my-5"/>

<div class="row">
  <div class="col-md-10 offset-md-1">
    <h4>Comments on this project entry</h4>
    <div [hidden]="!showComments">
      <app-view-comment *ngFor="let comment of entry?.comments"
                        [commentType]="'entry'" [objectIds]="{project_id: project_id, entry_id: entry?.student._id}" [comment]="comment"></app-view-comment>
      <p class="text-center comment-toggle" (click)="showComments = ! showComments">Hide comments</p>
    </div>
    <div [hidden]="showComments" class="text-center text-muted comment-toggle">
      <p (click)="showComments = ! showComments">View {{entry?.comments?.length}} comments</p>
    </div>
    <app-create-comment [commentType]="'entry'" [objectIds]="{project_id: project_id, entry_id: entry?.student._id}"></app-create-comment>
  </div>
</div>
