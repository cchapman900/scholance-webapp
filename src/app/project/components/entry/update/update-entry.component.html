<div *ngIf="entry">
  <div [hidden]="submitted">
    <h1>Submit to Project</h1>
    <form (ngSubmit)="onSubmit()" #projectForm="ngForm">
      <div class="form-group">
        <label for="title">Title</label>
        <input type="text" class="form-control" id="title"
               required
               disabled
               [(ngModel)]="project.title" name="title"
               #title="ngModel">
        <div [hidden]="title.valid || title.pristine"
             class="alert alert-danger">
          Name is required
        </div>
      </div>

      <div class="form-group">
        <label for="summary">Summary</label>
        <input type="text" class="form-control" id="summary"
               disabled
               [(ngModel)]="project.summary" name="summary">
      </div>

      <button (click)="updateEntry()" class="btn btn-success" [disabled]="!projectForm.form.valid">Update</button>
    </form>
  </div>

  <hr/>

  <h4>Assets</h4>

  <div class="row card" *ngFor="let asset of entry.assets">
    <div class="card-body">
      <div class="row">
        <div class="col-md-3">
          <img width="100rem" [src]="asset.uri">
        </div>
        <div class="col-md-6">
          <h5>{{asset.name}}</h5>
        </div>
        <div class="col-md-3">
          <button class="btn btn-danger"
                  (click)="deleteEntryAsset(project._id, asset._id)">
            Delete Asset
          </button>
        </div>
      </div>
    </div>
  </div>
  <app-create-asset class="row card" [project]="project" [assetType]="'entry'"></app-create-asset>


  <div [hidden]="!submitted">
    <h2>You submitted the following:</h2>
    <div class="row">
      <div class="col-xs-3">Title</div>
      <div class="col-xs-9  pull-left">{{ project.title }}</div>
    </div>
    <div class="row">
      <div class="col-xs-3">Summary</div>
      <div class="col-xs-9 pull-left">{{ project.summary }}</div>
    </div>
    <br>
    <button class="btn btn-primary" (click)="submitted=false">Edit</button>
  </div>
</div>
