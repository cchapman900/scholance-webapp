<div class="row align-content-center">
  <div class="col-9">
    <h2>
      {{project?.title}} <span class="badge badge-info ml-5">{{project?.category}}</span>
    </h2>
  </div>
  <div class="col-3 text-right" *ngIf="userService.authenticatedUser?.userType == 'student' && project">
    <app-student-project-toolbar *ngIf="project.status !== 'complete'" [project_id]="project._id"></app-student-project-toolbar>
  </div>
</div>
<h5>Project Summary</h5>
<p>{{project?.summary}}</p>
<h5>Full Details</h5>
<p>{{project?.fullDescription}}</p>

<hr/>

<h5>About {{project?.organization.name}}</h5>
<p>{{project?.organization.about}}</p>

<hr/>

<div class="row">

  <div class="col-md-3">
    <h5>Project Specs</h5>
  </div>
  <div class="col-md-9">
    <ul>
      <li *ngFor="let spec of project?.specs">{{spec}}</li>
    </ul>
  </div>

  <div class="col-md-3">
    <h5>Deliverables</h5>
  </div>
  <div class="col-md-9">
    <ul>
      <li *ngFor="let deliverable of project?.deliverables">
        <p>{{deliverable.name}} <span class="badge badge-info">{{deliverable.mediaType}}</span> </p>
      </li>
    </ul>
  </div>

  <div class="col-md-3">
    <h5>Deadline</h5>
  </div>
  <div class="col-md-9">
    <p>{{project?.deadline || "None"}}</p>
  </div>

  <hr/>

  <div class="col-md-3">
    <h5>Supplemental Resources</h5>
  </div>
  <div class="col-md-9">
    <ul>
      <li *ngFor="let supplementalResource of project?.supplementalResources">
        <p>{{supplementalResource.name}}</p>
      </li>
    </ul>
  </div>

</div>

<hr/>

<div class="row mb-5">
  <div class="col-md-10 offset-md-1">
    <h4>Project discussion board</h4>
    <div [hidden]="!showComments">
      <p class="text-center text-muted small" *ngIf="project?.comments.length === 0">There are no comments to display</p>
      <app-view-comment *ngFor="let comment of project?.comments"
                        [commentType]="'project'" [objectIds]="{project_id: project?._id}" [comment]="comment"></app-view-comment>
      <p style="cursor: pointer" class="text-center comment-toggle" (click)="showComments = ! showComments">
        Hide comments
        <fa-icon [icon]="faCaretUp"></fa-icon>
      </p>
    </div>
    <div [hidden]="showComments && project?.comments" class="text-center text-muted comment-toggle">
      <p style="cursor: pointer" (click)="showComments = ! showComments">
        View {{project?.comments?.length}} comment<span *ngIf="project?.comments.length != 1">s</span>
        <fa-icon [icon]="faCaretDown"></fa-icon>
      </p>
    </div>
    <app-create-comment *ngIf="authService.isAuthenticated()"
                        [commentType]="'project'"
                        [objectIds]="{project_id: project?._id}"></app-create-comment>
  </div>
</div>
