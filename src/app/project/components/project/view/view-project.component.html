<h1>
  {{project?.title}}
</h1>
<h3>{{project?.organization.name}}</h3>
<p>{{project?.summary}}</p>

<div *ngIf="user && project">

  <div *ngIf="user?.userType === 'business' && user?._id === project?.liaison._id">

    <button
      class="btn btn-primary"
      routerLink="update"
    >
      Update Project
    </button>

    <p class="text-center">Project status: {{project.status}}</p>

    <hr/>

    <app-list-entries [entries]="project.entries"></app-list-entries>

  </div>


  <app-student-project-toolbar
    *ngIf="user?.userType === 'student'"
    [studentIsRegisteredForProject]="studentIsRegisteredForProject()" [project_id]="project._id" [user_id]="user._id">
  </app-student-project-toolbar>

</div>

<hr class="my-5"/>

<div class="row">
  <div class="col-md-10 offset-md-1">
    <h4>Comments on this project</h4>
    <div [hidden]="!showComments">
      <app-view-comment *ngFor="let comment of project?.comments"
                        [parentUrl]="router.url" [comment]="comment"></app-view-comment>
      <app-create-comment [parentUrl]="router.url"></app-create-comment>
      <p class="text-center comment-toggle" (click)="showComments = ! showComments">Hide comments</p>
    </div>
    <div [hidden]="showComments" class="text-center text-muted comment-toggle">
      <p (click)="showComments = ! showComments">View {{entry?.comments?.length}} comments</p>
    </div>
  </div>
</div>
